<!DOCTYPE html>
<head>

<script type="text/javascript">
	// Allow the page to be served from any direcotry...
	const path  = location.pathname.replace(/index.html$/, '');
	if(!path.match(/\/$/))
	{
		window.location = path + '/' + (location.search||'');

		console.log(window.location);
	}
</script>
<style type = "text/css">@import url(app.css)</style>
<script src = "app.js"></script>
<script src = "//ajaxorg.github.io/ace-builds/src-min/ace.js"></script>
<script>require('initialize');</script>
<title>php-wasm</title>
</head>

<body>
	<div class = "row header toolbar">
		<div class = "cols">
			<div class = "row start">
				<a target = "_blank" href = "https://github.com/oraoto/pib">
					<img class = "round" src = "oraoto-icon.png" />
				</a>
				<a target = "_blank" href = "https://github.com/seanmorris/php-wasm">
					<img src = "sean-icon.png" />
				</a>
				<h1>php-wasm</h1>
			</div>
		</div>
		<div class = "separator">
		</div>
		<div class = "row rows">
			<label>
				<span>text</span>
				<input value = "text" type = "radio" name = "render-as" checked />
			</label>
			<label>
				<span>html</span>
				<input value = "html" type = "radio" name = "render-as" />
			</label>
		</div>
		<div class = "row rows">
				<label>
					<span>Persist Memory</span>
					<input type = "checkbox" id = "persist" />
				</label>
				<label>
					<span>Single Expression</span>
					<input type = "checkbox" id = "singleExpression" />
				</label>
			</div>
		<button data-run disabled>RUN</button>
		<!-- <button data-tokenize>tokenize</button> -->
	</div>

	<div class = "row body">
		<div class = "panel">
			<div class = "input">
				<div class = "cols">
					<label tabindex="-1">
						<img src = "php.png"> <span>PHP Code</span>
					</label>
					<label id = "openFile" accept=".php" class = "collapse"tabindex="-1">
						open file<input type = "file">
					</label>

				</div>
				<textarea></textarea>
			</div>
		</div>

		<div class = "panel">
			<div id = "ret">
				<label tabindex="-1">return</label>
				<div class = "stdret output liquid">
					<div class = "column">
						<iframe class = "scroller" srcdoc=""></iframe>
						<div class = "scroller"></div>
					</div>
				</div>
			</div>
			<div>
				<div class = "cols">
					<label tabindex="-1">stdout</label>
					<label id = "exit" class = "collapse" tabindex="-1">exit code: <span></span></label>
				</div>
				<div class = "stdout output liquid">
					<div class = "column">
						<iframe class = "scroller" srcdoc=""></iframe>
						<div class = "scroller"></div>
					</div>
				</div>
			</div>
			<div>
				<label tabindex="-1">stderr</label>
				<div class = "stderr output liquid">
					<div class = "column">
						<iframe class = "scroller" srcdoc=""></iframe>
						<div class = "scroller"></div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class = "row status toolbar">
		<div>
			<div class = "row start" data-status>
				php-wasm
			</div>
		</div>
		<div>
		</div>
	</div>
</body>
